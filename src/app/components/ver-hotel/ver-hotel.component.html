<app-navbar-vistas></app-navbar-vistas>
<h1 [textContent]="this.getIdHotel.nombre"></h1>

<table class="table">
  <thead class="thead-dark">
    <tr>
      <th scope="col">Habitación</th>
      <th scope="col">Capacidad</th>
      <th scope="col">Estado</th>
      <th scope="col">Precio</th>
      <th scope="col">Reservar</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let cuartos of getIdCuartos">
      <td>{{ cuartos.nombre }}</td>
      <td>{{ cuartos.espacio }} personas</td>
      <td>{{ cuartos.disponibilidad }}</td>
      <td>Q{{ cuartos.precio }}</td>

      <td>
        <a *ngIf="cuartos.verificar == true"
          ><button
            (click)="getHabitacion(cuartos._id)"
            data-bs-toggle="modal"
            data-bs-target="#staticBackdrop"
            class="btn btn-outline-success"
          >
            <i class="fa-solid fa-credit-card"></i></button
        ></a>
        <a *ngIf="cuartos.verificar == false"
          ><button (click)="cuartoOcupado()" class="btn btn-outline-danger">
            <i class="fa-solid fa-xmark"></i></button
        ></a>
      </td>
    </tr>
  </tbody>
</table>

<footer class="text-center text-lg-start bg-light text-muted">
  <section
    class="d-flex justify-content-center justify-content-lg-between p-4 border-bottom"
  >
    <div class="me-5 d-none d-lg-block"></div>
  </section>

  <section class="">
    <div class="container text-center text-md-start mt-5">
      <div class="row mt-3">
        <div class="col-md-3 col-lg-4 col-xl-3 mx-auto mb-4">
          <h6 class="text-uppercase fw-bold mb-4">
            <i class="fas fa-gem me-3"></i>Nombre de nuestro hotel
          </h6>
          <p>{{ this.getIdHotel.nombre }}</p>
        </div>

        <div class="col-md-4 col-lg-3 col-xl-3 mx-auto mb-md-0 mb-4">
          <h6 class="text-uppercase fw-bold mb-4">Contáctanos</h6>
          <p><i class="fas fa-home me-3"></i>{{ this.getIdHotel.direccion }}</p>
          <p>
            <i class="fas fa-envelope me-3"></i>
            {{ this.getIdHotel.email }}
          </p>
          <p><i class="fas fa-phone me-3"></i>{{ this.getIdHotel.telefono }}</p>
        </div>
      </div>
    </div>
  </section>

  <div class="text-center p-4" style="background-color: rgba(0, 0, 0, 0.05)">
    © 2022 Copyright:
    <a class="text-reset fw-bold">Gestor de hoteles</a>
  </div>
</footer>

<div
  class="modal fade"
  id="staticBackdrop"
  data-bs-backdrop="static"
  data-bs-keyboard="false"
  tabindex="-1"
  aria-labelledby="staticBackdropLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">
          {{ this.getIdCuarto.nombre }}
        </h5>
      </div>
      <form #formPago="ngForm">
        <div class="modal-body">
          <div class="form-outline form-white mb-4">
            <!--          <span
            *ngIf="!email.valid && email.touched"
            class="requiredField"
          >
            Campo requerido
          </span> -->
            <input
              type="number"
              name="dias"
              [(ngModel)]="dias"
              class="form-control form-control-lg"
              required="true"
            />
            <label class="form-label"
              >¿Cuántos días te quedarás con nosotros?</label
            >
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
          >
            Cancelar
          </button>
          <button
            (click)="pagarCuarto(this.precio * this.dias, this.getIdCuarto._id,formPago)"
            type="submit"
            class="btn btn-primary"
          >
            Pagar Q{{ this.precio * this.dias }}
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
